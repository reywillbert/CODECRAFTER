<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>GitHub PDF Uploader + Search</title>
</head>
<body>
  <h1>Upload & Search PDFs</h1>

  <form id="uploadForm">
    <label>Owner <input id="ownerInput" required /></label><br>
    <label>Repo <input id="repoInput" required /></label><br>
    <label>Branch <input id="branchInput" value="main" required /></label><br>
    <label>Token <input id="tokenInput" type="password" required /></label><br>
    <label>Choose PDF <input id="fileInput" type="file" accept="application/pdf" required /></label><br>
    <label>Commit message <input id="msgInput" value="Add PDF" required /></label><br>
    <button type="submit" id="submitBtn">Upload to GitHub</button>
  </form>

  <div id="status"></div>

  <h2>Search PDFs</h2>
  <input id="searchInput" placeholder="Type to filter PDFs..." />
  <button type="button" id="loadBtn">Load PDFs</button>
  <ul id="pdfList"></ul>

  <script>
    const form = document.getElementById('uploadForm');
    const statusBox = document.getElementById('status');
    const pdfList = document.getElementById('pdfList');

    function showStatus(msg) {
      statusBox.textContent = msg;
    }

    // Upload handler
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      showStatus("Upload button clicked (stub).");
      // Here you’d add the GitHub API upload logic
    });

    // Load PDFs handler
    document.getElementById('loadBtn').addEventListener('click', () => {
      showStatus("Load PDFs button clicked (stub).");
      // Here you’d fetch the repo contents
    });

    // Search filter
    document.getElementById('searchInput').addEventListener('input', (e) => {
      const term = e.target.value.toLowerCase();
      [...pdfList.children].forEach(li => {
        li.style.display = li.textContent.toLowerCase().includes(term) ? '' : 'none';
      });
    });
  </script>
</body>
</html>
